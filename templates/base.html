{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Teak Decor</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon.png'%}" />
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <script defer src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
        <script defer src="{% static 'js/main.js'%}"></script>
        {% tailwind_css %}
    </head>
    <body class="bg-neutral-color">
        <header class="relative">
        <!-- Navbar -->
        <nav class="w-full h-28 border border-b-2 px-6 sm:px-12 md:px-24
        flex flex-row justify-between items-center bg-neutral-color fixed top-0">
           <!-- Side menu button  -->
           <button class="block md:hidden menu-btn">
           <i class='bx bx-menu-alt-left bx-md text-tbrown'></i>
           </button>
            <!-- Logo  -->
            <div>
                <a href="">
                <img class="w-20 md:w-28 h-auto"
                src="{% static 'images/logo.png'%}" alt="Logo Image">
                </a>
            </div>
            <!-- Nav Items  -->
            <div class="flex flex-row gap-6 text-black-color">
                <a class="hover:text-secondary-color-1 hidden md:block" href="{% url 'home' %}" >Home</a>
                <a class="hover:text-secondary-color-1 hidden md:block" href="{% url 'products'%}" >Showroom</a>
                <a class="hover:text-secondary-color-1 hidden md:block" href="" >About</a>

                <!-- accounts dropdown button  -->
                <button class="relative hidden md:block accBtn hover:text-secondary-color-1">
                    <i class='bx bx-user bx-sm'></i>
                    <div class="border bg-secondary-color-1 mt-2 w-32 h-28 text-neutral-color
                    font-bold text-center py-4 rounded shadow shadow-secondary-color-1 absolute dropdown show">
                        {% if user.is_authenticated %}
                            <p class="hover:text-secondary-color-2 mt-1 py-2">Hello {{user}}</p>
                            <a class="hover:text-secondary-color-2 py-2 block" href="{%url 'logout'%}">Logout</a>
                        {% else %}
                            <a class="hover:text-secondary-color-2 mt-1 py-2 block" href="{%url 'login'%}">Log In</a>
                            <a class="hover:text-secondary-color-2 py-2 block" href="{%url 'signup'%}">Sign Up</a>
                        {% endif %}
                    </div>
                </button>

                <!-- cart button  -->
                <div>
                <a class="hover:text-secondary-color-1" href="{% url 'cart'%}">
                    <i class='bx bx-cart-alt bx-sm'></i>
                    <span class="bg-secondary-color-1 text-neutral-color font-bold rounded-[50%] p-2">{{cart_count}}</span>
                </a>
                </div>
            </div>
        </nav>
        <!-- sidemenu  -->
        <div class="flex flex-col absolute border items-center bg-white w-56 h-[100dvh] 
                py-16 gap-20 transition-all sidemenu hide">
            <a href="">Home</a>
            <a href="">Showroom</a>
            <a href="">About</a>
            <button class="relative accounts">
                    <i class='bx bx-user bx-sm'></i>
                    <div class="border border-black w-20 h-24 absolute dropdown hidden">
                        <a href="{%url 'login'%}">login</a>
                    </div>
            </button>
        </div>
        </header>

        <!-- Main section  -->
        <main class="px-6 sm:px-12 md:px-24 mt-36">

            {% if messages %}
              <ul class="messages">
                {% for message in messages %}
                  <li{% if message.tags %}
                    class="{{ message.tags }} text-center py-2 bg-secondary-color-3 text-neutral-color mb-4 sticky"
                    {% endif %}>
                    {{ message }}
                  </li>
                {% endfor %}
              </ul>

              <script>
                  // Automatically hide messages after a certain duration
                  document.addEventListener("DOMContentLoaded", function() {
                    setTimeout(function() {
                      var messages = document.querySelector('.messages');
                      if (messages) {
                        messages.style.display = 'none';
                      }
                    }, 3000);
                  });
                </script>
            {% endif %}

            {% block content%}

            {% endblock content%}
        </main>

        <!-- Footer  -->
        <!-- <footer class="w-full h-32 bg-tbrown">

        </footer> -->
    </body>
</html>
